/* TrailerModal.module.css
	 - Overlay full-screen
	 - Modal centralizado
	 - Tamanho: 40% da viewport (40vw x 40vh) por padrão
	 - Se a viewport for grande: tamanho fixo 1442x768
	 - Ajustes para telas pequenas
*/

.overlay {
    position: fixed;
    inset: 0;
    /* top:0; right:0; bottom:0; left:0 */
    background: transparent;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    backdrop-filter: blur(1px);
}

.modal {
    /* use vars declared in :root (index.css) for consistency */
    background: var(--background-medium, #111);
    color: var(--text-white, #fff);
    border-radius: 12px;
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.6);
    /* borda para destacar o modal sobre o overlay */
    /* permitimos visibilidade fora do modal para posicionar o botão de fechar acima */
    overflow: visible;
    width: 40vw;
    /* conforme solicitado: 40% da viewport */
    height: 50vh;
    max-width: 98vw;
    max-height: 98vh;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    position: relative;
    animation: modal-pop 180ms ease-out;
}

/* Quando a viewport for grande o suficiente, usamos o tamanho fixo pedido */
@media (min-width: 1442px) and (min-height: 768px) {
    .modal {
        width: 1442px;
        height: 768px;
    }
}

/* Ajustes para telas muito pequenas */
@media (max-width: 640px) {
    .modal {
        width: 92vw;
        height: auto;
        max-height: 92vh;
        border-radius: 8px;
    }
}

.content {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Responsividade para mídias embarcadas (iframe, video) */
.content iframe,
.content video {
    width: 100%;
    height: 100%;
    display: block;
    border: 0;
}

/* Wrapper para garantir que o iframe ocupe todo o container */
.videoWrapper {
    position: relative;
    width: 100%;
    height: 100%;
}

.videoWrapper iframe {
    position: absolute !important;
    inset: 0 !important;
    width: 100% !important;
    height: 100% !important;
}

.closeButton {
    position: relative;
    right: -1400px;
    width: 36px;
    height: 36px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: rgba(247, 0, 0, 0.35);
    border: 2px solid rgba(255, 255, 255, 0.06);
    color: var(--text-white, #fff);
    font-size: 1rem;
    cursor: pointer;
    padding: 0;
    border-radius: 50%;
    transition: background 120ms ease, transform 120ms ease;
    z-index: 1011;
}

.closeButton:hover {
    background: rgba(255, 255, 255, 0.06);
    transform: translateY(-1px);
}

.closeButton:focus {
    outline: 2px solid var(--netflix-red);
    outline-offset: 2px;
}

.hidden {
    display: none !important;
}

@keyframes modal-pop {
    from {
        opacity: 0;
        transform: scale(0.98) translateY(-6px);
    }

    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* Respeita preferência do usuário por reduzir animações */
@media (prefers-reduced-motion: reduce) {
    .modal {
        animation: none;
        transition: none;
    }
}